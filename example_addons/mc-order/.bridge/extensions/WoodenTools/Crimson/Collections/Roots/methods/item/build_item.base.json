{
    "$identifier": "roots.build_item.base",
    "$inputs": {
        "common": { "$nested": true, "identifier": null, "display_name": null, "description": "$default", "addon": "" },
        "server": {
            "$nested": true,
            "menu_category": {
                "$nested": true,
                "category": "$default",
                "group": "$default",
                "is_hidden_in_commands": "$default"
            },
            "content": {}
        },
        "client": { "$nested": true, "texture_path": null }
    },
    "$locals": [
        {
            "identifier.sanitized": "^common.identifier.replace(/[^a-z0-9_.]/g, '_')",
            "path.addon": "^common.addon.replace('_', '/')"
        },
        {
            "path.server": "BP/items/^{path.addon}^/^{identifier.sanitized}^.i.json",
            "path.textures": "RP/textures/item_texture.json"
        }
    ],
    "$calls": [
        {
            "$call": "action",
            "$path": "^path.server",
            "$content": {
                "$templates": [
                    {
                        "$template": "roots.BP.item.base",
                        "identifier": "^common.identifier",
                        "textures": { "default": "^identifier.sanitized" },
                        "menu_category": "^server.menu_category"
                    }
                ]
            }
        },
        { "$call": "action", "$path": "^path.server", "$content": "^server.content" },
        {
            "$call": "action",
            "$path": "^path.textures",
            "$content": { "texture_data": { "^identifier.sanitized": { "textures": { "path": "^client.texture_path" }}}}
        },
        {
            "$call": "method",
            "$method": "roots.utils.add_saplang_entry",
            "category": "roots.items",
            "description": "^common.description",
            "key": "item.^{common.identifier}^",
            "value": "^common.display_name"
        }
    ],
    "$outputs": { "path.server": "^path.server", "identifier.sanitized": "^identifier.sanitized" }
}