{
    "format_version": "1.21.60",
    "minecraft:block": {
        "description": {
            "identifier": "ns_ptl:universal_emitter",
            "menu_category": { "category": "items", "group": "itemGroup.name.atmosphere" },
            "states": {
                "ns_ptl:visible": [ true, false ]
            }
        },
        "permutations": [
            {
                "condition": "q.block_state('ns_ptl:visible') == false",
                "components": {
                    "minecraft:geometry": "minecraft:geometry.full_block",
                    "minecraft:material_instances": {
                        "*": {
                            "texture": "ns_ptl:emitter_invisible",
                            "render_method": "alpha_test",
                            "ambient_occlusion": false,
                            "face_dimming": false
                        }
                    },
                    "minecraft:selection_box": false
                }
            },
            {
                "condition": "q.block_state('ns_ptl:visible') == true",
                "components": {
                    "minecraft:geometry": "minecraft:geometry.full_block",
                    "minecraft:material_instances": {
                        "*": {
                            "texture": "ns_ptl:emitter_visible",
                            "render_method": "blend",
                            "ambient_occlusion": false,
                            "face_dimming": false
                        }
                    },
                    "minecraft:selection_box": { "origin": [ -8, 0, -8 ], "size": [ 16, 16, 16 ]}
                }
            }
        ],
        "components": {
            "minecraft:collision_box": false,
            "minecraft:light_dampening": 0,
            "minecraft:destructible_by_mining": { "seconds_to_destroy": 0.5 },
            "minecraft:tick": { "interval_range": [ 10, 10 ], "looping": true },
            "minecraft:custom_components": [ "ns_ptl:emitter_block" ],
            "minecraft:liquid_detection": {
                "detection_rules": [
                    { "liquid_type": "water", "can_contain_liquid": true, "on_liquid_touches": "no_reaction" }
                ]
            }
        }
    }
}